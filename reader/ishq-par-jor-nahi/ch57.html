<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ishq Par Jor Nahi</title>
  <style>
    body, html { margin:0; padding:0; background:#000; overflow-x:hidden; height:100vh; }
    img { display:block; width:100%; height:auto; margin:0; padding:0; pointer-events:none; -webkit-touch-callout:none; -webkit-user-drag:none; }
    .overlay { position:absolute; top:0; left:0; width:100%; height:100%; background:transparent; pointer-events:auto; }
  </style>
</head>
<body>
<script>
  function getCookie(name) {
    let matches = document.cookie.match(new RegExp("(?:^|; )" + name.replace(/([.$?*|{}()[\]\\/+^])/g, '\\$1') + "=([^;]*)"));
    return matches ? decodeURIComponent(matches[1]) : "";
  }

  if (getCookie("site_access") !== "true") {
    // Poora body replace kar do aur sab stop kar do
    document.documentElement.innerHTML = `
      <head><title>Access Blocked</title></head>
      <body style="margin:0; background:#111; color:white; font-family:Arial; text-align:center; padding:50px;">
        <div style="font-size:24px; background:#900; padding:30px; border-radius:15px; max-width:90%; margin:auto;">
          ⚠️ Direct Access Blocked<br><br>
          Shortener solve karke hi site open hogi.<br><br>
          <a href="gate.html" style="color:#fff; background:#f00; padding:15px; border-radius:10px; text-decoration:none;">Unlock Site</a>
        </div>
      </body>`;
    // Sab JS stop kar do
    while (document.body.firstChild) {
      document.body.removeChild(document.body.firstChild);
    }
    throw ""; // Stop execution
  }
</script>

<!-- Referrer Protection: Only allow access from the 3 types of info pages -->
<script>
  const referrer = document.referrer || '';
  const currentOrigin = window.location.origin;

  // Adjust these to your actual info page paths (for this comic)
  // 1. Free info page
  // 2. Monthly subscription info page (e.g., ishq-par-jor-nahi-monthly.html)
  // 3. Single comic buy info page (e.g., ishq-par-jor-nahi-single.html)
  const allowedReferrers = [
    currentOrigin + 'https://maxton480.github.io/Comics/pages/ishq-par-jor-nahi.html',                // Free info page
    currentOrigin + '../pages/ishq-par-jor-nahi-monthly.html',       // Monthly VIP info page
    currentOrigin + '../pages/ishq-par-jor-nahi-single.html',        // Single comic VIP info page
    // Add without .html if needed, or full URLs if hosted elsewhere
    // e.g., currentOrigin + '/vip/monthly/ishq-par-jor-nahi.html'
  ];

  const isAllowed = allowedReferrers.some(allowed => 
    referrer === allowed || referrer.startsWith(allowed)
  );

  if (!isAllowed) {
    document.documentElement.innerHTML = `
      <head><title>Access Denied</title></head>
      <body style="margin:0; background:#0a001f; color:#e0e0ff; font-family:'Segoe UI',sans-serif; min-height:100vh; display:flex; align-items:center; justify-content:center; text-align:center; padding:20px;">
        <div style="max-width:90%; background:rgba(10,0,31,0.92); padding:40px 30px; border-radius:20px; border:1px solid rgba(0,212,255,0.3); box-shadow:0 0 40px rgba(0,212,255,0.25);">
          <h2 style="color:#00d4ff; margin-bottom:20px; font-size:2rem;">⚠️ Under Maintenance</h2>
          <p style="font-size:1.2rem; line-height:1.6; margin-bottom:30px;">
            This episode Will be upload soon, we are working on it.
          </p>
          </a>
          <!-- Add links to VIP info pages if needed, but keep it simple -->
        </div>
      </body>`;
    throw new Error("Unauthorized access blocked");
  }
</script>

  <div id="comic"></div>

  <script>
    // Basic protection
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('dragstart', e => e.preventDefault());

    // Episode images load (chXX folder se – adjust basePath to match the current chapter, e.g., for ch60.html)
    const basePath = "https://cdn.jsdelivr.net/gh/maxton480/Comics@main/comics/ishq-par-jor-nahi/ch57/"; // Change 'ch60' for each file
    const container = document.getElementById('comic');
    for (let i = 1; i <= 100; i++) {  // Max 100 pages
      const num = i.toString().padStart(3, '0'); // 001, 002...
      const src = basePath + num + '.webp';

      const div = document.createElement('div');
      div.style.position = 'relative';

      const img = document.createElement('img');
      img.src = src;
      img.loading = "lazy";
      img.onerror = () => div.remove(); // Remove if image doesn't exist

      const overlay = document.createElement('div');
      overlay.className = 'overlay';

      div.appendChild(img);
      div.appendChild(overlay);
      container.appendChild(div);
    }
  </script>
</body>
</html>

t
